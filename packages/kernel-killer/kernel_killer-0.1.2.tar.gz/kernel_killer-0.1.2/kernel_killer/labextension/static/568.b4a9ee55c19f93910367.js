"use strict";(self.webpackChunkkernel_killer=self.webpackChunkkernel_killer||[]).push([[568],{568:(e,o,n)=>{n.r(o),n.d(o,{default:()=>c});var t=n(749),l=n(125),r=n(308),a=n(116),i=n(53),s=n(778);const c={id:"kernel-killer",autoStart:!0,optional:[a.ILauncher],requires:[r.ICommandPalette,i.ITranslator],activate:async(e,o,n,a,i)=>{const c=e.shell,d=n.load("jupyterlab");c.currentChanged.connect((async(o,n)=>{var a,i,c,u,v;if(console.log(n),("NotebookPanel"===(null===(i=null===(a=null==n?void 0:n.oldValue)||void 0===a?void 0:a.constructor)||void 0===i?void 0:i.name)||"Ie"===(null===(u=null===(c=null==n?void 0:n.oldValue)||void 0===c?void 0:c.constructor)||void 0===u?void 0:u.name))&&(null===(v=null==n?void 0:n.oldValue)||void 0===v?void 0:v.context._isDisposed)){console.log("Ã© pra fechar"),console.log("windows");const o=l.ServerConnection.makeSettings(),n=t.URLExt.join(o.baseUrl,"api/shutdown");return await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()]),console.log("matou..?"),l.ServerConnection.makeRequest(n,{method:"POST"},o).then((e=>{if(!e.ok)throw new l.ServerConnection.ResponseError(e);{const e=document.createElement("div"),o=document.createElement("p");o.textContent=d.__("You have shut down the Jupyter server. You can now close this tab.");const n=document.createElement("p");n.textContent=d.__("To use JupyterLab again, you will need to relaunch it."),e.appendChild(o),e.appendChild(n),(0,r.showDialog)({title:d.__("Server stopped"),body:new s.Widget({node:e}),buttons:[]}),window.close()}})).catch((e=>{throw new l.ServerConnection.NetworkError(e)}))}}))}}}}]);