"use strict";(self["webpackChunk_quetz_frontend_main_app"]=self["webpackChunk_quetz_frontend_main_app"]||[]).push([[4294,9444],{9444:(e,t,a)=>{a.r(t);a.d(t,{API_STATUSES:()=>l,Breadcrumbs:()=>c,FetchHoc:()=>E,GB_SIZE:()=>p,InlineLoader:()=>f,KB_SIZE:()=>m,MB_SIZE:()=>u,NOTIFICATION_TYPES:()=>I,SearchBox:()=>F,copyToClipboard:()=>A,formatPlural:()=>D,formatSize:()=>b,sendNotification:()=>_});var r=a(68288);var n=a(22550);var o=a(62971);var s=a(34494);var i=a(2411);class c extends i.PureComponent{render(){const{items:e}=this.props;return i.createElement(s.Breadcrumb,null,e.map((e=>e.onClick?i.createElement(s.BreadcrumbItem,{key:e.text},i.createElement("a",{onClick:e.onClick},e.text)):i.createElement(s.BreadcrumbItem,{key:e.text,href:e.href},e.text))))}}var l;(function(e){e["PENDING"]="PENDING";e["SUCCESS"]="SUCCESS";e["FAILED"]="FAILED"})(l||(l={}));const m=1024;const u=1024*m;const p=1024*u;var d=a(98078);class f extends i.PureComponent{render(){const{text:e}=this.props;return i.createElement("div",{className:"loader-wrapper padding"},i.createElement(s.ProgressRing,null),e&&i.createElement("p",{className:"text loader-text"},e))}}class E extends i.PureComponent{constructor(e){super(e);this.componentDidMount=()=>{this.tryFetch()};this.tryFetch=async()=>{const{url:e}=this.props;this.setState({apiStatus:l.PENDING});const t=d.ServerConnection.makeSettings();const a=await d.ServerConnection.makeRequest(e,{},t);if(!a.ok){this.setState({error:a.statusText,apiStatus:l.FAILED})}else{this.setState({data:await a.json(),apiStatus:l.SUCCESS})}};this.state={data:null,apiStatus:l.PENDING,error:""}}render(){const{apiStatus:e,data:t,error:a}=this.state;const{children:r,loadingMessage:n,genericErrorMessage:o}=this.props;if(e===l.PENDING){return i.createElement(f,{text:n})}if(e===l.FAILED){return i.createElement("p",{className:"paragraph padding error-message"},a||o||"Error occurred while fetching data","â€ƒ",i.createElement(s.Button,{appearance:"lightweight",onClick:this.tryFetch},"Try again"))}return i.createElement(i.Fragment,null,r(t))}}var h=a(5089);var S=a(30325);var N=a(6277);var C=a(37106);const I={SUCCESS:"success",DANGER:"danger",INFO:"info",DEFAULT:"default",WARNING:"warning"};const v={[I.SUCCESS]:S.faCheckCircle,[I.DANGER]:S.faTimesCircle,[I.INFO]:S.faInfoCircle,[I.DEFAULT]:S.faInfoCircle,[I.WARNING]:S.faExclamationCircle};class g extends i.PureComponent{render(){const{id:e,type:t,title:a,message:r}=this.props;return i.createElement("div",{className:"notification-item"},i.createElement("p",{className:(0,N.Z)("notification-icon",t)},i.createElement(h.FontAwesomeIcon,{icon:v[t]})),i.createElement("div",{className:"notification-content"},a&&i.createElement("p",{className:(0,N.Z)("notification-title",t)},a),r&&i.createElement("p",{className:"notification-message"},r)),i.createElement("button",{className:"notification-close"},i.createElement(h.FontAwesomeIcon,{icon:S.faTimes,onClick:()=>C.Store.removeNotification(e)})))}}const _=({type:e=I.DEFAULT,title:t,message:a,duration:r})=>{const n=C.Store.addNotification({content:({id:r})=>i.createElement(g,{id:r,title:t,type:e,message:a}),insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:r}});if(r){setTimeout((()=>{C.Store.removeNotification(n)}),r)}};class F extends i.PureComponent{constructor(e){super(e);this._searchRef=i.createRef()}render(){return i.createElement("form",{onSubmit:e=>{var t;e.preventDefault();const a=(t=this._searchRef.current)===null||t===void 0?void 0:t.value;if(a){this.props.onSubmit(a)}}},i.createElement("div",{className:"btn-group quetz-search-box"},i.createElement(s.Search,{ref:this._searchRef,value:this.props.value,placeholder:"Search"}),i.createElement(s.Button,{appearance:"neutral",type:"submit"},i.createElement(h.FontAwesomeIcon,{icon:S.faSearch}))))}}var x=a(47);const D=(e,t)=>`${e} ${t}${e>1?"s":""}`;const b=e=>{if(e>p){return`${(0,x.round)(e/p,2)} GB`}if(e>u){return`${(0,x.round)(e/u,2)} MB`}if(e>m){return`${(0,x.round)(e/m,2)} KB`}return`${e} bytes`};const A=(e,t)=>{navigator.clipboard.writeText(e).then((()=>{_({type:I.INFO,message:`Copied ${t&&`${t} `}to clipboard`,duration:3e3})})).catch((e=>console.error(e)))};r.SV.withDefault('"Open Sans", sans-serif');r.z.withDefault(n.w.from({r:242,g:240,b:18}));(0,o.e)()}}]);