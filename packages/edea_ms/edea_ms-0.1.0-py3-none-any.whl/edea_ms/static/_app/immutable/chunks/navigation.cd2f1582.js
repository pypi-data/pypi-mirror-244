import{a as k,t as q}from"./index.3abb605e.js";import{P as r}from"./scheduler.478a93c1.js";import{l as h}from"./singletons.c68aeea4.js";function E(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function z(n,f){q(n,1,1,()=>{f.delete(n.key)})}function F(n,f){n.f(),z(n,f)}function G(n,f,x,A,N,v,c,S,p,P,u,j){let i=n.length,o=v.length,a=i;const w={};for(;a--;)w[n[a].key]=a;const d=[],g=new Map,m=new Map,y=[];for(a=o;a--;){const e=j(N,v,a),t=x(e);let s=c.get(t);s?A&&y.push(()=>s.p(e,f)):(s=P(t,e),s.c()),g.set(t,d[a]=s),t in w&&m.set(t,Math.abs(a-w[t]))}const M=new Set,b=new Set;function _(e){k(e,1),e.m(S,u),c.set(e.key,e),u=e.first,o--}for(;i&&o;){const e=d[o-1],t=n[i-1],s=e.key,l=t.key;e===t?(u=e.first,i--,o--):g.has(l)?!c.has(s)||M.has(s)?_(e):b.has(l)?i--:m.get(s)>m.get(l)?(b.add(s),_(e)):(M.add(l),i--):(p(t,c),i--)}for(;i--;){const e=n[i];g.has(e.key)||p(e,c)}for(;o;)_(d[o-1]);return r(y),d}const H=h("goto"),I=h("invalidate_all"),J=h("before_navigate"),K=h("after_navigate");export{K as a,J as b,E as e,F as f,H as g,I as i,G as u};
