import{a as k,t as q}from"./index.8ed4ca49.js";import{z as r}from"./scheduler.873b6a21.js";import{c as h}from"./singletons.d5282721.js";function F(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function B(n,f){q(n,1,1,()=>{f.delete(n.key)})}function G(n,f){n.f(),B(n,f)}function H(n,f,x,A,N,v,c,S,p,z,u,j){let i=n.length,o=v.length,a=i;const w={};for(;a--;)w[n[a].key]=a;const d=[],g=new Map,m=new Map,y=[];for(a=o;a--;){const e=j(N,v,a),t=x(e);let s=c.get(t);s?A&&y.push(()=>s.p(e,f)):(s=z(t,e),s.c()),g.set(t,d[a]=s),t in w&&m.set(t,Math.abs(a-w[t]))}const M=new Set,b=new Set;function _(e){k(e,1),e.m(S,u),c.set(e.key,e),u=e.first,o--}for(;i&&o;){const e=d[o-1],t=n[i-1],s=e.key,l=t.key;e===t?(u=e.first,i--,o--):g.has(l)?!c.has(s)||M.has(s)?_(e):b.has(l)?i--:m.get(s)>m.get(l)?(b.add(s),_(e)):(M.add(l),i--):(p(t,c),i--)}for(;i--;){const e=n[i];g.has(e.key)||p(e,c)}for(;o;)_(d[o-1]);return r(y),d}const I=h("goto"),J=h("invalidate_all"),K=h("before_navigate"),L=h("after_navigate");export{L as a,K as b,F as e,G as f,I as g,J as i,H as u};
