import{q as ye}from"../chunks/helpers.83fdf554.js";import{s as Ce,f as d,l as M,a as P,g as p,h as b,m as L,d as _,c as D,Z,j as $,i as ae,B as n,I as ee,n as he,P as Ee,r as te}from"../chunks/scheduler.478a93c1.js";import{S as Te,i as ke,b as se,d as ne,m as le,t as N,c as ve,a as T,e as re,g as ge}from"../chunks/index.3abb605e.js";import{S as Se}from"../chunks/SimpleTable.b3875ade.js";import{r as be}from"../chunks/singletons.3848a9db.js";import{V as Ie}from"../chunks/VegaLite.1ba19734.js";import{I as Pe,P as De}from"../chunks/Icon.f8883bdb.js";import{g as Ne}from"../chunks/stores.3448d723.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.da8ef131.js";const Oe=async({fetch:l,params:e})=>{const{run:a,measurements:t}=await ye(l,e.id);return{testrun:a,measurements:t,name:e.id}},Ze=Object.freeze(Object.defineProperty({__proto__:null,load:Oe},Symbol.toStringTag,{value:"Module"}));function Ve(l){let e,a="No Testrun data available.";return{c(){e=d("p"),e.textContent=a},l(t){e=p(t,"P",{"data-svelte-h":!0}),Z(e)!=="svelte-eigvvv"&&(e.textContent=a)},m(t,o){ae(t,e,o)},p:te,i:te,o:te,d(t){t&&_(e)}}}function qe(l){let e,a;return e=new Se({props:{data:be(l[0].measurements)}}),{c(){se(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,o){le(e,t,o),a=!0},p(t,o){const u={};o&1&&(u.data=be(t[0].measurements)),e.$set(u)},i(t){a||(T(e.$$.fragment,t),a=!0)},o(t){N(e.$$.fragment,t),a=!1},d(t){re(e,t)}}}function $e(l){let e,a,t="Visualizations",o,u,h;return u=new Ie({props:{data:l[1],spec:l[0].testrun.data.vega_lite}}),{c(){e=d("section"),a=d("h2"),a.textContent=t,o=P(),se(u.$$.fragment),this.h()},l(i){e=p(i,"SECTION",{class:!0});var f=b(e);a=p(f,"H2",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-l5lk04"&&(a.textContent=t),o=D(f),ne(u.$$.fragment,f),f.forEach(_),this.h()},h(){$(a,"class","h2"),$(e,"class","space-y-2")},m(i,f){ae(i,e,f),n(e,a),n(e,o),le(u,e,null),h=!0},p(i,f){const m={};f&1&&(m.spec=i[0].testrun.data.vega_lite),u.$set(m)},i(i){h||(T(u.$$.fragment,i),h=!0)},o(i){N(u.$$.fragment,i),h=!1},d(i){i&&_(e),re(u)}}}function we(l){var fe,me;let e,a,t,o,u,h=l[0].name+"",i,f,m,B="Export",z,O,C,V,F,Q=((fe=l[0].testrun.data)==null?void 0:fe.quality)+"",R,G,y,U,k,J,q,oe="Edit",K,S,v,g,W,w,X,ie;k=new Pe({props:{size:"12",src:De}});const ce=[qe,Ve],E=[];function ue(s,c){return s[0].measurements.length>0?0:1}v=ue(l),g=E[v]=ce[v](l);let r=l[0].measurements.length>0&&l[2]&&((me=l[0].testrun.data)==null?void 0:me.vega_lite)&&$e(l);return{c(){e=d("div"),a=d("section"),t=d("div"),o=d("h1"),u=M("Testrun "),i=M(h),f=P(),m=d("button"),m.textContent=B,z=P(),O=d("section"),C=d("div"),V=d("p"),F=M("Result data quality: "),R=M(Q),G=P(),y=d("button"),U=d("span"),se(k.$$.fragment),J=P(),q=d("span"),q.textContent=oe,K=P(),S=d("section"),g.c(),W=P(),r&&r.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=b(e);a=p(c,"SECTION",{class:!0});var x=b(a);t=p(x,"DIV",{class:!0});var I=b(t);o=p(I,"H1",{class:!0});var j=b(o);u=L(j,"Testrun "),i=L(j,h),j.forEach(_),f=D(I),m=p(I,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-pewlmc"&&(m.textContent=B),I.forEach(_),x.forEach(_),z=D(c),O=p(c,"SECTION",{class:!0});var de=b(O);C=p(de,"DIV",{class:!0});var A=b(C);V=p(A,"P",{});var Y=b(V);F=L(Y,"Result data quality: "),R=L(Y,Q),Y.forEach(_),G=D(A),y=p(A,"BUTTON",{class:!0});var H=b(y);U=p(H,"SPAN",{});var pe=b(U);ne(k.$$.fragment,pe),pe.forEach(_),J=D(H),q=p(H,"SPAN",{"data-svelte-h":!0}),Z(q)!=="svelte-bi7592"&&(q.textContent=oe),H.forEach(_),A.forEach(_),de.forEach(_),K=D(c),S=p(c,"SECTION",{class:!0});var _e=b(S);g.l(_e),_e.forEach(_),W=D(c),r&&r.l(c),c.forEach(_),this.h()},h(){$(o,"class","h1"),$(m,"class","btn variant-filled"),$(t,"class","flex justify-between"),$(a,"class","space-y-2"),$(y,"class","chip variant-soft hover:variant-filled"),$(C,"class","flex space-x-2"),$(O,"class","space-y-2"),$(S,"class","space-y-2"),$(e,"class","table-container mx-auto p-8 space-y-8")},m(s,c){ae(s,e,c),n(e,a),n(a,t),n(t,o),n(o,u),n(o,i),n(t,f),n(t,m),n(e,z),n(e,O),n(O,C),n(C,V),n(V,F),n(V,R),n(C,G),n(C,y),n(y,U),le(k,U,null),n(y,J),n(y,q),n(e,K),n(e,S),E[v].m(S,null),n(e,W),r&&r.m(e,null),w=!0,X||(ie=[ee(m,"click",xe),ee(y,"click",l[3]),ee(y,"keypress",l[3])],X=!0)},p(s,[c]){var I,j;(!w||c&1)&&h!==(h=s[0].name+"")&&he(i,h),(!w||c&1)&&Q!==(Q=((I=s[0].testrun.data)==null?void 0:I.quality)+"")&&he(R,Q);let x=v;v=ue(s),v===x?E[v].p(s,c):(ge(),N(E[x],1,1,()=>{E[x]=null}),ve(),g=E[v],g?g.p(s,c):(g=E[v]=ce[v](s),g.c()),T(g,1),g.m(S,null)),s[0].measurements.length>0&&s[2]&&((j=s[0].testrun.data)!=null&&j.vega_lite)?r?(r.p(s,c),c&1&&T(r,1)):(r=$e(s),r.c(),T(r,1),r.m(e,null)):r&&(ge(),N(r,1,1,()=>{r=null}),ve())},i(s){w||(T(k.$$.fragment,s),T(g),T(r),w=!0)},o(s){N(k.$$.fragment,s),N(g),N(r),w=!1},d(s){s&&_(e),re(k),E[v].d(),r&&r.d(),X=!1,Ee(ie)}}}function xe(l){}function je(l,e,a){var f;let{data:t}=e;const o={measurements:t.measurements},u=!!((f=t.testrun.data)!=null&&f.vega_lite),h=Ne();async function i(m){const B={type:"component",title:"Update Quality",body:"",meta:{testrun:t.testrun,method:"PUT"},component:"modalChangeDataQuality",response:async z=>{z&&h.close()}};h.trigger(B)}return l.$$set=m=>{"data"in m&&a(0,t=m.data)},[t,o,u,i]}class Fe extends Te{constructor(e){super(),ke(this,e,je,we,Ce,{data:0})}}export{Fe as component,Ze as universal};
