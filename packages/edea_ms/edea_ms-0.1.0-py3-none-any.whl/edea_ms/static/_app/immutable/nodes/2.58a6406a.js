import{e as L}from"../chunks/index.f836e1a8.js";import{s as N,f as v,a as w,g as k,h as D,Z as T,c as P,d,j as y,i as C,B as x,x as j,L as H,r as h,e as E}from"../chunks/scheduler.7de60500.js";import{S as I,i as O,t as S,c as M,a as g,g as $,b as A,d as q,m as z,e as R}from"../chunks/index.e444f18c.js";import{g as B}from"../chunks/navigation.62a3e185.js";import{T as U}from"../chunks/models.35f324f1.js";import{c as p,S as V}from"../chunks/SimpleTable.98974ff0.js";import{r as W}from"../chunks/singletons.4da117b7.js";const Z=async({fetch:u,params:e})=>({testruns:u("/api/testruns/overview").then(s=>{if(s.status==401)return Promise.resolve([]);if(s.ok)return s.json();throw L(s.status,s.statusText)})}),oe=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function F(u){let e,s="Please log in to see recent testruns.";return{c(){e=v("p"),e.textContent=s},l(t){e=k(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-ykhdry"&&(e.textContent=s)},m(t,n){C(t,e,n)},p:h,i:h,o:h,d(t){t&&d(e)}}}function G(u){let e,s="Recent Testruns",t,n,l,c,i;const m=[K,J],a=[];function f(r,o){return r[0].testruns.length>0?0:1}return n=f(u),l=a[n]=m[n](u),{c(){e=v("h2"),e.textContent=s,t=w(),l.c(),c=E(),this.h()},l(r){e=k(r,"H2",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-ct2azo"&&(e.textContent=s),t=P(r),l.l(r),c=E(),this.h()},h(){y(e,"class","h2")},m(r,o){C(r,e,o),C(r,t,o),a[n].m(r,o),C(r,c,o),i=!0},p(r,o){let _=n;n=f(r),n===_?a[n].p(r,o):($(),S(a[_],1,1,()=>{a[_]=null}),M(),l=a[n],l?l.p(r,o):(l=a[n]=m[n](r),l.c()),g(l,1),l.m(c.parentNode,c))},i(r){i||(g(l),i=!0)},o(r){S(l),i=!1},d(r){r&&(d(e),d(t),d(c)),a[n].d(r)}}}function J(u){let e,s="No recent testruns.";return{c(){e=v("p"),e.textContent=s},l(t){e=k(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-ppv4ti"&&(e.textContent=s)},m(t,n){C(t,e,n)},p:h,i:h,o:h,d(t){t&&d(e)}}}function K(u){let e,s;return e=new V({props:{data:u[2],columns:u[3],rowsPerPage:20,search:!1}}),e.$on("selected",u[4]),{c(){A(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){z(e,t,n),s=!0},p:h,i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){R(e,t)}}}function Q(u){let e,s,t='<h1 class="h1">Welcome to EDeA-MS</h1> <p>EDeA-MS provides the server part for Test&amp;Measurement as Code setups. See <a class="anchor" href="https://tmc.edea.dev/">EDeA-TMC</a> for the library.</p>',n,l,c,i,m;const a=[G,F],f=[];function r(o,_){return o[1]!==void 0?0:1}return c=r(u),i=f[c]=a[c](u),{c(){e=v("div"),s=v("section"),s.innerHTML=t,n=w(),l=v("section"),i.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var _=D(e);s=k(_,"SECTION",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-1rsh2fq"&&(s.innerHTML=t),n=P(_),l=k(_,"SECTION",{class:!0});var b=D(l);i.l(b),b.forEach(d),_.forEach(d),this.h()},h(){y(s,"class","space-y-2"),y(l,"class","space-y-2"),y(e,"class","container mx-auto p-8 space-y-8")},m(o,_){C(o,e,_),x(e,s),x(e,n),x(e,l),f[c].m(l,null),m=!0},p(o,[_]){let b=c;c=r(o),c===b?f[c].p(o,_):($(),S(f[b],1,1,()=>{f[b]=null}),M(),i=f[c],i?i.p(o,_):(i=f[c]=a[c](o),i.c()),g(i,1),i.m(l,null))},i(o){m||(g(i),m=!0)},o(o){S(i),m=!1},d(o){o&&d(e),f[c].d()}}}function X(u,e,s){let t,{data:n}=e,l=W(n.testruns);const c=[p("id","ID"),p("short_code","Short Code"),p("machine_hostname","Hostname"),p("user_name","User"),p("test_name","Test Name"),p("created_at","Created",{translate:a=>new Date(a).toLocaleString("de-DE")}),p("started_at","Started",{translate:a=>new Date(a).toLocaleString("de-DE")}),p("completed_at","Completed",{translate:a=>new Date(a).toLocaleString("de-DE")}),p("state","State",{translate:a=>U[a]})];function i(a){B(`/testrun/${a.detail.id}`)}const m=j("user");return H(u,m,a=>s(1,t=a)),u.$$set=a=>{"data"in a&&s(0,n=a.data)},[n,t,l,c,i,m]}class le extends I{constructor(e){super(),O(this,e,X,Q,N,{data:0})}}export{le as component,oe as universal};
