import{g as ye}from"../chunks/helpers.4c219a71.js";import{s as Ce,e as d,t as M,a as I,c as p,b,d as L,f as _,g as N,p as F,q as $,i as ae,h as n,y as ee,j as he,z as Ee,n as te}from"../chunks/scheduler.873b6a21.js";import{S as Te,i as ke,b as se,d as ne,m as le,t as P,c as ve,a as T,e as re,g as ge}from"../chunks/index.8ed4ca49.js";import{S as Se}from"../chunks/SimpleTable.2abbeef8.js";import{r as be}from"../chunks/singletons.d5282721.js";import{V as De}from"../chunks/VegaLite.18471f69.js";import{I as Ie,P as Ne}from"../chunks/Icon.9e818c86.js";import{g as Pe}from"../chunks/stores.69457925.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.71b661dc.js";const Oe=async({fetch:l,params:e})=>{const{run:a,measurements:t}=await ye(l,e.id);return{testrun:a,measurements:t,name:e.id}},Fe=Object.freeze(Object.defineProperty({__proto__:null,load:Oe},Symbol.toStringTag,{value:"Module"}));function Ve(l){let e,a="No Testrun data available.";return{c(){e=d("p"),e.textContent=a},l(t){e=p(t,"P",{"data-svelte-h":!0}),F(e)!=="svelte-eigvvv"&&(e.textContent=a)},m(t,o){ae(t,e,o)},p:te,i:te,o:te,d(t){t&&_(e)}}}function qe(l){let e,a;return e=new Se({props:{data:be(l[0].measurements)}}),{c(){se(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,o){le(e,t,o),a=!0},p(t,o){const u={};o&1&&(u.data=be(t[0].measurements)),e.$set(u)},i(t){a||(T(e.$$.fragment,t),a=!0)},o(t){P(e.$$.fragment,t),a=!1},d(t){re(e,t)}}}function $e(l){let e,a,t="Visualizations",o,u,h;return u=new De({props:{data:l[1],spec:l[0].testrun.data.vega_lite}}),{c(){e=d("section"),a=d("h2"),a.textContent=t,o=I(),se(u.$$.fragment),this.h()},l(i){e=p(i,"SECTION",{class:!0});var f=b(e);a=p(f,"H2",{class:!0,"data-svelte-h":!0}),F(a)!=="svelte-l5lk04"&&(a.textContent=t),o=N(f),ne(u.$$.fragment,f),f.forEach(_),this.h()},h(){$(a,"class","h2"),$(e,"class","space-y-2")},m(i,f){ae(i,e,f),n(e,a),n(e,o),le(u,e,null),h=!0},p(i,f){const m={};f&1&&(m.spec=i[0].testrun.data.vega_lite),u.$set(m)},i(i){h||(T(u.$$.fragment,i),h=!0)},o(i){P(u.$$.fragment,i),h=!1},d(i){i&&_(e),re(u)}}}function we(l){var fe,me;let e,a,t,o,u,h=l[0].name+"",i,f,m,R="Export",j,O,C,V,G,Q=((fe=l[0].testrun.data)==null?void 0:fe.quality)+"",A,J,y,U,k,K,q,oe="Edit",W,S,v,g,X,w,Y,ie;k=new Ie({props:{size:"12",src:Ne}});const ce=[qe,Ve],E=[];function ue(s,c){return s[0].measurements.length>0?0:1}v=ue(l),g=E[v]=ce[v](l);let r=l[0].measurements.length>0&&l[2]&&((me=l[0].testrun.data)==null?void 0:me.vega_lite)&&$e(l);return{c(){e=d("div"),a=d("section"),t=d("div"),o=d("h1"),u=M("Testrun "),i=M(h),f=I(),m=d("button"),m.textContent=R,j=I(),O=d("section"),C=d("div"),V=d("p"),G=M("Result data quality: "),A=M(Q),J=I(),y=d("button"),U=d("span"),se(k.$$.fragment),K=I(),q=d("span"),q.textContent=oe,W=I(),S=d("section"),g.c(),X=I(),r&&r.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=b(e);a=p(c,"SECTION",{class:!0});var x=b(a);t=p(x,"DIV",{class:!0});var D=b(t);o=p(D,"H1",{class:!0});var z=b(o);u=L(z,"Testrun "),i=L(z,h),z.forEach(_),f=N(D),m=p(D,"BUTTON",{class:!0,"data-svelte-h":!0}),F(m)!=="svelte-pewlmc"&&(m.textContent=R),D.forEach(_),x.forEach(_),j=N(c),O=p(c,"SECTION",{class:!0});var de=b(O);C=p(de,"DIV",{class:!0});var B=b(C);V=p(B,"P",{});var Z=b(V);G=L(Z,"Result data quality: "),A=L(Z,Q),Z.forEach(_),J=N(B),y=p(B,"BUTTON",{class:!0});var H=b(y);U=p(H,"SPAN",{});var pe=b(U);ne(k.$$.fragment,pe),pe.forEach(_),K=N(H),q=p(H,"SPAN",{"data-svelte-h":!0}),F(q)!=="svelte-bi7592"&&(q.textContent=oe),H.forEach(_),B.forEach(_),de.forEach(_),W=N(c),S=p(c,"SECTION",{class:!0});var _e=b(S);g.l(_e),_e.forEach(_),X=N(c),r&&r.l(c),c.forEach(_),this.h()},h(){$(o,"class","h1"),$(m,"class","btn variant-filled"),$(t,"class","flex justify-between"),$(a,"class","space-y-2"),$(y,"class","chip variant-soft hover:variant-filled"),$(C,"class","flex space-x-2"),$(O,"class","space-y-2"),$(S,"class","space-y-2"),$(e,"class","table-container mx-auto p-8 space-y-8")},m(s,c){ae(s,e,c),n(e,a),n(a,t),n(t,o),n(o,u),n(o,i),n(t,f),n(t,m),n(e,j),n(e,O),n(O,C),n(C,V),n(V,G),n(V,A),n(C,J),n(C,y),n(y,U),le(k,U,null),n(y,K),n(y,q),n(e,W),n(e,S),E[v].m(S,null),n(e,X),r&&r.m(e,null),w=!0,Y||(ie=[ee(m,"click",xe),ee(y,"click",l[3]),ee(y,"keypress",l[3])],Y=!0)},p(s,[c]){var D,z;(!w||c&1)&&h!==(h=s[0].name+"")&&he(i,h),(!w||c&1)&&Q!==(Q=((D=s[0].testrun.data)==null?void 0:D.quality)+"")&&he(A,Q);let x=v;v=ue(s),v===x?E[v].p(s,c):(ge(),P(E[x],1,1,()=>{E[x]=null}),ve(),g=E[v],g?g.p(s,c):(g=E[v]=ce[v](s),g.c()),T(g,1),g.m(S,null)),s[0].measurements.length>0&&s[2]&&((z=s[0].testrun.data)!=null&&z.vega_lite)?r?(r.p(s,c),c&1&&T(r,1)):(r=$e(s),r.c(),T(r,1),r.m(e,null)):r&&(ge(),P(r,1,1,()=>{r=null}),ve())},i(s){w||(T(k.$$.fragment,s),T(g),T(r),w=!0)},o(s){P(k.$$.fragment,s),P(g),P(r),w=!1},d(s){s&&_(e),re(k),E[v].d(),r&&r.d(),Y=!1,Ee(ie)}}}function xe(l){}function ze(l,e,a){var f;let{data:t}=e;const o={measurements:t.measurements},u=!!((f=t.testrun.data)!=null&&f.vega_lite),h=Pe();async function i(m){const R={type:"component",title:"Update Quality",body:"",meta:{testrun:t.testrun,method:"PUT"},component:"modalChangeDataQuality",response:async j=>{j&&h.close()}};h.trigger(R)}return l.$$set=m=>{"data"in m&&a(0,t=m.data)},[t,o,u,i]}class Ge extends Te{constructor(e){super(),ke(this,e,ze,we,Ce,{data:0})}}export{Ge as component,Fe as universal};
