import{e as A}from"../chunks/index.f836e1a8.js";import{s as H,a as x,e as k,o as I,f,g as w,c as S,b as P,p as T,q as D,i as b,h as E,m as O,k as j,n as v,r as $}from"../chunks/scheduler.873b6a21.js";import{S as q,i as z,t as g,c as L,a as y,g as N,b as R,d as U,m as V,e as W}from"../chunks/index.8ed4ca49.js";import{g as B}from"../chunks/navigation.de978144.js";import{T as F}from"../chunks/models.35f324f1.js";import{c as d,S as G}from"../chunks/SimpleTable.2abbeef8.js";import{r as J}from"../chunks/singletons.d5282721.js";const K=async({fetch:u,params:e})=>({testruns:u("/api/testruns/overview").then(s=>{if(s.status==401)return Promise.resolve([]);if(s.ok)return s.json();throw A(s.status,s.statusText)})}),ie=Object.freeze(Object.defineProperty({__proto__:null,load:K},Symbol.toStringTag,{value:"Module"}));function Q(u){let e,s="Please log in to see recent testruns.";return{c(){e=k("p"),e.textContent=s},l(t){e=S(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-ykhdry"&&(e.textContent=s)},m(t,r){b(t,e,r)},p:v,i:v,o:v,d(t){t&&f(e)}}}function X(u){let e,s="Recent Testruns",t,r,c,_,l;const i=[Z,Y],n=[];function C(a,m){return a[0].testruns.length>0?0:1}return r=C(u),c=n[r]=i[r](u),{c(){e=k("h2"),e.textContent=s,t=x(),c.c(),_=$(),this.h()},l(a){e=S(a,"H2",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-ct2azo"&&(e.textContent=s),t=w(a),c.l(a),_=$(),this.h()},h(){D(e,"class","h2")},m(a,m){b(a,e,m),b(a,t,m),n[r].m(a,m),b(a,_,m),l=!0},p(a,m){let o=r;r=C(a),r===o?n[r].p(a,m):(N(),g(n[o],1,1,()=>{n[o]=null}),L(),c=n[r],c?c.p(a,m):(c=n[r]=i[r](a),c.c()),y(c,1),c.m(_.parentNode,_))},i(a){l||(y(c),l=!0)},o(a){g(c),l=!1},d(a){a&&(f(e),f(t),f(_)),n[r].d(a)}}}function Y(u){let e,s="No recent testruns.";return{c(){e=k("p"),e.textContent=s},l(t){e=S(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-ppv4ti"&&(e.textContent=s)},m(t,r){b(t,e,r)},p:v,i:v,o:v,d(t){t&&f(e)}}}function Z(u){let e,s;return e=new G({props:{data:u[2],columns:u[3],rowsPerPage:20,search:!1}}),e.$on("selected",u[4]),{c(){R(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},p:v,i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){W(e,t)}}}function ee(u){let e,s,t,r='<h1 class="h1">Welcome to EDeA-MS</h1> <p>EDeA-MS provides the server part for Test&amp;Measurement as Code setups. See <a class="anchor" href="https://tmc.edea.dev/">EDeA-TMC</a> for the library.</p>',c,_,l,i,n;const C=[X,Q],a=[];function m(o,h){return o[1]!==void 0?0:1}return l=m(u),i=a[l]=C[l](u),{c(){e=x(),s=k("div"),t=k("section"),t.innerHTML=r,c=x(),_=k("section"),i.c(),this.h()},l(o){I("svelte-e4ea6t",document.head).forEach(f),e=w(o),s=S(o,"DIV",{class:!0});var p=P(s);t=S(p,"SECTION",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-1rsh2fq"&&(t.innerHTML=r),c=w(p),_=S(p,"SECTION",{class:!0});var M=P(_);i.l(M),M.forEach(f),p.forEach(f),this.h()},h(){document.title="EDeA-MS",D(t,"class","space-y-2"),D(_,"class","space-y-2"),D(s,"class","container mx-auto p-8 space-y-8")},m(o,h){b(o,e,h),b(o,s,h),E(s,t),E(s,c),E(s,_),a[l].m(_,null),n=!0},p(o,[h]){let p=l;l=m(o),l===p?a[l].p(o,h):(N(),g(a[p],1,1,()=>{a[p]=null}),L(),i=a[l],i?i.p(o,h):(i=a[l]=C[l](o),i.c()),y(i,1),i.m(_,null))},i(o){n||(y(i),n=!0)},o(o){g(i),n=!1},d(o){o&&(f(e),f(s)),a[l].d()}}}function te(u,e,s){let t,{data:r}=e,c=J(r.testruns);const _=[d("id","ID"),d("short_code","Short Code"),d("machine_hostname","Hostname"),d("user_name","User"),d("test_name","Test Name"),d("created_at","Created",{translate:n=>new Date(n).toLocaleString("de-DE")}),d("started_at","Started",{translate:n=>new Date(n).toLocaleString("de-DE")}),d("completed_at","Completed",{translate:n=>new Date(n).toLocaleString("de-DE")}),d("state","State",{translate:n=>F[n]})];function l(n){B(`/testrun/${n.detail.id}`)}const i=O("user");return j(u,i,n=>s(1,t=n)),u.$$set=n=>{"data"in n&&s(0,r=n.data)},[r,t,c,_,l,i]}class ue extends q{constructor(e){super(),z(this,e,te,ee,H,{data:0})}}export{ue as component,ie as universal};
