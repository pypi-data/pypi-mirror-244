"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{26704:function(n,e,t){t.r(e),t.d(e,{CONCURRENCY_LIMIT_FRAGMENT:function(){return V},CONCURRENCY_STEP_FRAGMENT:function(){return M},ConcurrencyLimits:function(){return ConcurrencyLimits},FREE_CONCURRENCY_SLOTS_MUTATION:function(){return H},INSTANCE_CONCURRENCY_LIMITS_QUERY:function(){return B},RUN_QUEUE_CONFIG_FRAGMENT:function(){return G}});var r=t(81862),i=t(58467),c=t(73235),o=t(82550),s=t(22970),u=t(52322),l=t(40794),a=t(33379),d=t(60138),x=t(18399),p=t(63832),h=t(28888),y=t(17131),m=t(81308),f=t(57830),j=t(95223),g=t(94092),C=t(92364),b=t(9001),v=t(34e3),_=t(12084),S=t(54266),I=t(37783),O=t(44678),T=t(10952),R=t(34822),w=t(43180),K=t(86412),L=t(2784),N=t(7267),E=t(47933),k=t(19211),F=t(20775),D=t(55237),A=t(68028),Q=t(28252),U=t(21485),P=t(6315),z=t(38917),$=t(88846),q=t(74897),J=t(4120);function _templateObject(){var n=(0,c._)(["\n  fragment ConcurrencyStepFragment on PendingConcurrencyStep {\n    runId\n    stepKey\n    enqueuedTimestamp\n    assignedTimestamp\n    priority\n  }\n"]);return _templateObject=function(){return n},n}function _templateObject1(){var n=(0,c._)(["\n  fragment ConcurrencyLimitFragment on ConcurrencyKeyInfo {\n    concurrencyKey\n    slotCount\n    claimedSlots {\n      runId\n      stepKey\n    }\n    pendingSteps {\n      ...ConcurrencyStepFragment\n    }\n  }\n  ","\n"]);return _templateObject1=function(){return n},n}function _templateObject2(){var n=(0,c._)(["\n  fragment RunQueueConfigFragment on RunQueueConfig {\n    maxConcurrentRuns\n    tagConcurrencyLimitsYaml\n  }\n"]);return _templateObject2=function(){return n},n}function _templateObject3(){var n=(0,c._)(["\n  query InstanceConcurrencyLimitsQuery {\n    instance {\n      id\n      info\n      supportsConcurrencyLimits\n      runQueuingSupported\n      runQueueConfig {\n        ...RunQueueConfigFragment\n      }\n      concurrencyLimits {\n        ...ConcurrencyLimitFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return _templateObject3=function(){return n},n}function _templateObject4(){var n=(0,c._)(["\n  mutation SetConcurrencyLimit($concurrencyKey: String!, $limit: Int!) {\n    setConcurrencyLimit(concurrencyKey: $concurrencyKey, limit: $limit)\n  }\n"]);return _templateObject4=function(){return n},n}function _templateObject5(){var n=(0,c._)(["\n  mutation FreeConcurrencySlots($runId: String!, $stepKey: String) {\n    freeConcurrencySlots(runId: $runId, stepKey: $stepKey)\n  }\n"]);return _templateObject5=function(){return n},n}function _templateObject6(){var n=(0,c._)(["\n  query ConcurrencyKeyDetailsQuery($concurrencyKey: String!) {\n    instance {\n      id\n      concurrencyLimit(concurrencyKey: $concurrencyKey) {\n        ...ConcurrencyLimitFragment\n      }\n    }\n  }\n  ","\n"]);return _templateObject6=function(){return n},n}function _templateObject7(){var n=(0,c._)(["\n  query RunsForConcurrencyKeyQuery($filter: RunsFilter, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          status\n        }\n      }\n    }\n  }\n"]);return _templateObject7=function(){return n},n}var Y=L.memo(function(){(0,A.Px)(),(0,Q.j)("Concurrency");var n=(0,F.gV)().flagInstanceConcurrencyLimits,e=L.useContext(q.N).pageTitle,t=(0,l.a)(B,{notifyOnNetworkStatusChange:!0}),r=(0,D.C4)(t,D.dT),i=t.data,c=i?n?(0,u.jsx)(ConcurrencyLimits,{instanceConfig:i.instance.info,limits:i.instance.concurrencyLimits,hasSupport:i.instance.supportsConcurrencyLimits,refetch:t.refetch}):(0,u.jsx)(N.l_,{to:"/config"}):(0,u.jsx)(x.x,{padding:{vertical:64},children:(0,u.jsx)(p.$,{purpose:"section"})});return(0,u.jsxs)(h.T,{children:[(0,u.jsx)(y.m,{title:(0,u.jsx)(m.X6,{children:e}),tabs:(0,u.jsx)(J.Z,{tab:"concurrency",refreshState:r})}),(0,u.jsx)(x.x,{margin:{bottom:64},children:(0,u.jsx)(RunConcurrencyContent,{hasRunQueue:!!(null==i?void 0:i.instance.runQueuingSupported),runQueueConfig:null==i?void 0:i.instance.runQueueConfig})}),(0,u.jsxs)(x.x,{children:[(0,u.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"top-and-bottom",children:(0,u.jsx)(m.pm,{children:(0,u.jsxs)(x.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,u.jsx)("span",{children:"Global op/asset concurrency"}),(0,u.jsx)(f.V,{children:"Experimental"})]})})}),c]})]})});e.default=Y;var RunConcurrencyContent=function(n){var e=n.hasRunQueue,t=n.runQueueConfig;if(!e)return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:(0,u.jsx)(m.pm,{children:"Run concurrency"})}),(0,u.jsxs)("div",{children:["Run concurrency is not supported with this run coordinator. To enable run concurrency limits, configure your instance to use the ",(0,u.jsx)(m.fv,{children:"QueuedRunCoordinator"})," in your"," ",(0,u.jsx)(m.fv,{children:"dagster.yaml"}),". See the"," ",(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.dagster.io/deployment/dagster-instance#queuedruncoordinator",children:"QueuedRunCoordinator documentation"})," ","for more information."]})]});var r=(0,u.jsxs)(x.x,{padding:{vertical:16,horizontal:24},children:["Run concurrency can be set in your run queue settings. See the"," ",(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.dagster.io/guides/limiting-concurrency-in-data-pipelines#configuring-run-level-concurrency",children:"run concurrency documentation"})," ","for more information."]}),i=t?(0,u.jsx)(j.fJ,{children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Max concurrent runs:"}),(0,u.jsx)("td",{children:(0,u.jsx)(m.fv,{children:t.maxConcurrentRuns})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Tag concurrency limits:"}),(0,u.jsx)("td",{children:t.tagConcurrencyLimitsYaml?(0,u.jsx)(g.u,{value:t.tagConcurrencyLimitsYaml,options:{readOnly:!0,lineNumbers:!0,mode:"yaml"}}):"-"})]})]})}):null;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:(0,u.jsx)(m.pm,{children:"Run concurrency"})}),r,i]})},ConcurrencyLimits=function(n){var e=n.instanceConfig,t=n.hasSupport,r=n.limits,c=n.refetch,o=(0,i._)(L.useState(),2),s=o[0],l=o[1],a=(0,i._)(L.useState(void 0),2),d=a[0],p=a[1],h=L.useCallback(function(){p(void 0)},[p]),y=Object.fromEntries(r.map(function(n){return[n.concurrencyKey,n.slotCount]})),onAdd=function(){l({actionType:"add"})},onEdit=function(n){l({actionType:"edit",concurrencyKey:n,concurrencyLimit:y[n]})},onDelete=function(n){l({actionType:"delete",concurrencyKey:n})};return!t&&e&&e.includes("SqliteEventLogStorage")?(0,u.jsx)(x.x,{margin:24,children:(0,u.jsx)(C.t,{icon:"error",title:"No concurrency support",description:"This instance does not support global concurrency limits. You will need to configure a different storage implementation (e.g. Postgres/MySQL) to use this feature."})}):!1===t?(0,u.jsx)(x.x,{margin:24,children:(0,u.jsx)(C.t,{icon:"error",title:"No concurrency support",description:"This instance does not currently support global concurrency limits. You may need to run `dagster instance migrate` to add the necessary tables to your dagster storage to support this feature."})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(x.x,{children:[(0,u.jsx)(x.x,{flex:{justifyContent:"flex-end"},padding:16,children:(0,u.jsx)(b.zx,{intent:"primary",icon:(0,u.jsx)(v.JO,{name:"add_circle"}),onClick:function(){return onAdd()},children:"Add concurrency limit"})}),0===r.length?(0,u.jsx)(C.t,{icon:"error",title:"No concurrency limits",description:(0,u.jsxs)(u.Fragment,{children:["No concurrency limits have been configured for this instance.\xa0",(0,u.jsx)(_.Z,{onClick:function(){return onAdd()},children:"Add a concurrency limit"}),"."]})}):(0,u.jsxs)(S.i,{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{style:{width:"260px"},children:"Concurrency key"}),(0,u.jsx)("th",{style:{width:"20%"},children:"Total slots"}),(0,u.jsx)("th",{style:{width:"20%"},children:"Assigned steps"}),(0,u.jsx)("th",{style:{width:"20%"},children:"Pending steps"}),(0,u.jsx)("th",{style:{width:"20%"},children:"All steps"}),(0,u.jsx)("th",{})]})}),(0,u.jsx)("tbody",{children:r.map(function(n){return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:n.concurrencyKey}),(0,u.jsx)("td",{children:n.slotCount}),(0,u.jsx)("td",{children:n.pendingSteps.filter(function(n){return!!n.assignedTimestamp}).length}),(0,u.jsx)("td",{children:n.pendingSteps.filter(function(n){return!n.assignedTimestamp}).length}),(0,u.jsxs)("td",{children:[(0,u.jsx)("span",{style:{marginRight:16},children:n.pendingSteps.length}),(0,u.jsx)(f.V,{intent:"primary",interactive:!0,children:(0,u.jsx)(_.Z,{onClick:function(){p(n.concurrencyKey)},children:"View all"})})]}),(0,u.jsx)("td",{children:(0,u.jsx)(ConcurrencyLimitActionMenu,{concurrencyKey:n.concurrencyKey,onEdit:onEdit,onDelete:onDelete})})]},n.concurrencyKey)})})]})]}),(0,u.jsx)(AddConcurrencyLimitDialog,{open:(null==s?void 0:s.actionType)==="add",onClose:function(){return l(void 0)},onComplete:c}),(0,u.jsx)(DeleteConcurrencyLimitDialog,{concurrencyKey:s&&"delete"===s.actionType?s.concurrencyKey:"",open:(null==s?void 0:s.actionType)==="delete",onClose:function(){return l(void 0)},onComplete:c}),(0,u.jsx)(EditConcurrencyLimitDialog,{open:(null==s?void 0:s.actionType)==="edit",onClose:function(){return l(void 0)},onComplete:c,concurrencyKey:(null==s?void 0:s.actionType)==="edit"?s.concurrencyKey:""}),(0,u.jsx)(ConcurrencyStepsDialog,{title:(0,u.jsxs)("span",{children:["Concurrency steps for ",(0,u.jsx)("strong",{children:d})]}),onClose:h,concurrencyKey:d,onUpdate:c})]})},ConcurrencyLimitActionMenu=function(n){var e=n.concurrencyKey,t=n.onDelete,r=n.onEdit;return(0,u.jsx)(I.J,{content:(0,u.jsxs)(O.v2,{children:[(0,u.jsx)(O.sN,{icon:"edit",text:"Edit",onClick:function(){return r(e)}}),(0,u.jsx)(O.sN,{icon:"delete",intent:"danger",text:"Delete",onClick:function(){return t(e)}})]}),position:"bottom-left",children:(0,u.jsx)(b.zx,{icon:(0,u.jsx)(v.JO,{name:"expand_more"})})})},isValidLimit=function(n){if(!n)return!1;var e=parseInt(n);return!isNaN(e)&&String(e)===n.trim()&&e>0&&e<1e3},AddConcurrencyLimitDialog=function(n){var e,t=n.open,c=n.onClose,o=n.onComplete,l=(0,i._)(L.useState(!1),2),d=l[0],p=l[1],h=(0,i._)(L.useState(""),2),y=h[0],m=h[1],f=(0,i._)(L.useState(""),2),j=f[0],g=f[1];L.useEffect(function(){m(""),g("")},[t]);var C=(0,i._)((0,a.D)(Z),1)[0],v=(e=(0,r._)(function(){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return p(!0),[4,C({variables:{concurrencyKey:j,limit:parseInt(y.trim())}})];case 1:return n.sent(),p(!1),o(),c(),[2]}})}),function(){return e.apply(this,arguments)});return(0,u.jsxs)(T.Vq,{isOpen:t,title:"Add concurrency limit",onClose:c,children:[(0,u.jsxs)(T.a7,{children:[(0,u.jsx)(x.x,{margin:{bottom:4},children:"Concurrency key:"}),(0,u.jsx)(x.x,{margin:{bottom:16},children:(0,u.jsx)(R.oi,{value:j||"",onChange:function(n){return g(n.target.value)},placeholder:"Concurrency key"})}),(0,u.jsx)(x.x,{margin:{bottom:4},children:"Concurrency limit (1-1000):"}),(0,u.jsx)(x.x,{children:(0,u.jsx)(R.oi,{value:y||"",onChange:function(n){return m(n.target.value)},placeholder:"1 - 1000"})})]}),(0,u.jsxs)(T.cN,{children:[(0,u.jsx)(b.zx,{intent:"none",onClick:c,children:"Cancel"}),(0,u.jsx)(b.zx,{intent:"primary",onClick:v,disabled:!isValidLimit(y.trim())||!j||d,children:d?"Adding...":"Add limit"})]})]})},EditConcurrencyLimitDialog=function(n){var e,t=n.concurrencyKey,c=n.open,o=n.onClose,l=n.onComplete,d=(0,i._)(L.useState(!1),2),p=d[0],h=d[1],y=(0,i._)(L.useState(""),2),f=y[0],j=y[1];L.useEffect(function(){j("")},[c]);var g=(0,i._)((0,a.D)(Z),1)[0],C=(e=(0,r._)(function(){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return h(!0),[4,g({variables:{concurrencyKey:t,limit:parseInt(f.trim())}})];case 1:return n.sent(),h(!1),l(),o(),[2]}})}),function(){return e.apply(this,arguments)}),v=(0,u.jsxs)(u.Fragment,{children:["Edit ",(0,u.jsx)(m.fv,{children:t})]});return(0,u.jsxs)(T.Vq,{isOpen:c,title:v,onClose:o,children:[(0,u.jsxs)(T.a7,{children:[(0,u.jsx)(x.x,{margin:{bottom:4},children:"Concurrency key:"}),(0,u.jsx)(x.x,{margin:{bottom:16},children:(0,u.jsx)("strong",{children:t})}),(0,u.jsx)(x.x,{margin:{bottom:4},children:"Concurrency limit (1-1000):"}),(0,u.jsx)(x.x,{children:(0,u.jsx)(R.oi,{value:f||"",onChange:function(n){return j(n.target.value)},placeholder:"1 - 1000"})})]}),(0,u.jsxs)(T.cN,{children:[(0,u.jsx)(b.zx,{intent:"none",onClick:o,children:"Close"}),p?(0,u.jsx)(b.zx,{intent:"primary",disabled:!0,children:"Updating..."}):(0,u.jsx)(b.zx,{intent:"primary",onClick:C,disabled:!isValidLimit(f.trim()),children:"Update limit"})]})]})},DeleteConcurrencyLimitDialog=function(n){var e,t=n.concurrencyKey,c=n.open,o=n.onClose,l=n.onComplete,d=(0,i._)(L.useState(!1),2),x=d[0],p=d[1],h=(0,i._)((0,a.D)(Z),1)[0],y=(e=(0,r._)(function(){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return p(!0),[4,h({variables:{concurrencyKey:t,limit:0}})];case 1:return n.sent(),p(!1),l(),o(),[2]}})}),function(){return e.apply(this,arguments)}),f=(0,u.jsxs)(u.Fragment,{children:["Delete ",(0,u.jsx)(m.fv,{children:t})]});return(0,u.jsxs)(T.Vq,{isOpen:c,title:f,onClose:o,children:[(0,u.jsxs)(T.a7,{children:["Delete concurrency limit\xa0",(0,u.jsx)("strong",{children:t}),"?"]}),(0,u.jsxs)(T.cN,{children:[(0,u.jsx)(b.zx,{intent:"none",onClick:o,children:"Close"}),x?(0,u.jsx)(b.zx,{intent:"danger",disabled:!0,children:"Deleting..."}):(0,u.jsx)(b.zx,{intent:"danger",onClick:y,children:"Delete limit"})]})]})},ConcurrencyActionMenu=function(n){var e=n.pendingStep,t=n.onUpdate,c=(0,i._)((0,a.D)(H),1)[0];return(0,u.jsx)(I.J,{content:(0,u.jsxs)(O.v2,{children:[(0,u.jsx)(O.sN,{icon:"status",text:"Free concurrency slot for step",onClick:(0,r._)(function(){var n;return(0,s.Jh)(this,function(r){switch(r.label){case 0:return[4,c({variables:{runId:e.runId,stepKey:e.stepKey}})];case 1:if(!(null===(n=r.sent().data)||void 0===n?void 0:n.freeConcurrencySlots))return[3,3];return t(),[4,(0,k.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Freed concurrency slot"})];case 2:r.sent(),r.label=3;case 3:return[2]}})})},"free-concurrency-slots-step"),(0,u.jsx)(O.sN,{icon:"status",text:"Free all concurrency slots for run",onClick:(0,r._)(function(){var n;return(0,s.Jh)(this,function(r){switch(r.label){case 0:return[4,(0,k.B7)({message:"Freeing concurrency slots..."})];case 1:return r.sent(),[4,c({variables:{runId:e.runId}})];case 2:if(!(null===(n=r.sent().data)||void 0===n?void 0:n.freeConcurrencySlots))return[3,4];return t(),[4,(0,k.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Freed concurrency slots"})];case 3:r.sent(),r.label=4;case 4:return[2]}})})},"free-concurrency-slots-run")]}),position:"bottom-right",children:(0,u.jsx)(b.zx,{rightIcon:(0,u.jsx)(v.JO,{name:"expand_more"}),children:"Actions"})})},ConcurrencyStepsDialog=function(n){var e=n.concurrencyKey,t=n.onClose,r=n.title,i=n.onUpdate,c=(0,l.a)(W,{variables:{concurrencyKey:e||""},skip:!e});(0,D.C4)(c,D.dT);var o=c.data,s=L.useCallback(function(){c.refetch(),i()},[c,i]);return(0,u.jsxs)(T.Vq,{isOpen:!!e,title:r,onClose:t,style:{minWidth:"400px",maxWidth:"1000px",width:"90vw",maxHeight:"90vh"},children:[(0,u.jsx)(x.x,{padding:{vertical:16},flex:{grow:1},style:{overflowY:"auto"},children:o?(0,u.jsx)(PendingStepsTable,{keyInfo:o.instance.concurrencyLimit,refresh:s}):(0,u.jsx)(x.x,{padding:{vertical:64},children:(0,u.jsx)(p.$,{purpose:"section"})})}),(0,u.jsx)(T.cN,{children:(0,u.jsx)(b.zx,{intent:"none",onClick:t,children:"Close"})})]})},PendingStepsTable=function(n){var e,t=n.keyInfo,r=n.refresh,i=(0,o._)(new Set(t.pendingSteps.map(function(n){return n.runId}))),c=(0,l.a)(X,{variables:{filter:{runIds:i}},skip:!t.pendingSteps.length}),s={};((null===(e=c.data)||void 0===e?void 0:e.pipelineRunsOrError.__typename)==="Runs"?c.data.pipelineRunsOrError.results:[]).forEach(function(n){s[n.id]=n.status});var a=(0,o._)(t.pendingSteps);a.sort(function(n,e){return n.priority&&e.priority&&n.priority!==e.priority?n.priority-e.priority:n.enqueuedTimestamp-e.enqueuedTimestamp});var d=a.filter(function(n){return!!n.assignedTimestamp}),p=a.filter(function(n){return!n.assignedTimestamp}),h=(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Run ID"}),(0,u.jsx)("th",{children:"Step key"}),(0,u.jsx)("th",{children:"Assigned"}),(0,u.jsx)("th",{children:"Queued"}),(0,u.jsx)("th",{children:(0,u.jsxs)(x.x,{flex:{alignItems:"center",direction:"row",gap:4},children:["Priority",(0,u.jsx)(w.u,{placement:"top",content:"Priority can be set on each op/asset using the 'dagster/priority' tag. Higher priority steps will be assigned slots first.",children:(0,u.jsx)(v.JO,{name:"info",color:K.w.Gray500})})]})}),(0,u.jsx)("th",{})]})});return a.length?(0,u.jsxs)(S.i,{children:[h,(0,u.jsx)("tbody",{style:{backgroundColor:K.w.Yellow50},children:d.map(function(n){return(0,u.jsx)(PendingStepRow,{step:n,statusByRunId:s,onUpdate:r},n.runId+n.stepKey)})}),(0,u.jsx)("tbody",{children:p.map(function(n){return(0,u.jsx)(PendingStepRow,{step:n,statusByRunId:s,onUpdate:r},n.runId+n.stepKey)})})]}):(0,u.jsxs)(S.i,{children:[h,(0,u.jsx)("tbody",{children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,children:(0,u.jsx)(x.x,{flex:{alignItems:"center",justifyContent:"center"},style:{color:K.w.Gray500},padding:16,children:"There are no active or pending steps for this concurrency key."})})})})]})},PendingStepRow=function(n){var e=n.step,t=n.statusByRunId,r=n.onUpdate,i=t[e.runId];return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:i?(0,u.jsx)(E.rU,{to:"/runs/".concat(e.runId),children:(0,u.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,u.jsx)(U.O_,{status:i,size:10}),(0,u.jsx)(m.fv,{children:(0,z.EI)({id:e.runId})}),P.hd.has(i)?(0,u.jsx)(w.u,{placement:"top",content:"Slots for canceled / failed runs can automatically be freed by configuring a run monitoring setting.",children:(0,u.jsx)(v.JO,{name:"info",color:K.w.Gray500})}):null]})}):(0,u.jsx)(m.fv,{children:(0,z.EI)({id:e.runId})})}),(0,u.jsx)("td",{children:(0,u.jsx)(m.fv,{children:e.stepKey})}),(0,u.jsx)("td",{children:e.assignedTimestamp?(0,u.jsx)($.Q,{startUnix:e.assignedTimestamp,endUnix:null}):"-"}),(0,u.jsx)("td",{children:e.enqueuedTimestamp?(0,u.jsx)($.Q,{startUnix:e.enqueuedTimestamp,endUnix:null}):"-"}),(0,u.jsx)("td",{children:e.priority}),(0,u.jsx)("td",{children:(0,u.jsx)(ConcurrencyActionMenu,{pendingStep:e,onUpdate:r})})]})},M=(0,d.Ps)(_templateObject()),V=(0,d.Ps)(_templateObject1(),M),G=(0,d.Ps)(_templateObject2()),B=(0,d.Ps)(_templateObject3(),V,G),Z=(0,d.Ps)(_templateObject4()),H=(0,d.Ps)(_templateObject5()),W=(0,d.Ps)(_templateObject6(),V),X=(0,d.Ps)(_templateObject7())},4120:function(n,e,t){t.d(e,{Z:function(){return InstanceTabs}});var r=t(52322),i=t(18399),c=t(56024),o=t(2784),s=t(20775),u=t(55237),l=t(34e3),a=t(86412),d=t(29255),x=t(77334),p=o.memo(function(){var n=o.useContext(d.Z).daemons;return n?(0,r.jsx)(x.a,{content:n.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,r.jsx)(l.JO,{name:"warning",color:a.w.Yellow500})}):null}),h=t(43180),y=t(63832),m=o.memo(function(n){var e=n.placeholder,t=o.useContext(d.Z).codeLocations;return t?"spinner"===t.type?(0,r.jsx)(h.u,{content:t.content,placement:"bottom",children:(0,r.jsx)(y.$,{purpose:"body-text",fillColor:a.w.Gray300})}):(0,r.jsx)(x.a,{content:t.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,r.jsx)(l.JO,{name:"warning",color:a.w.Yellow500})}):e?(0,r.jsx)("div",{style:{width:"16px"}}):null}),f=t(40049),j=t(74897),g=t(78945),InstanceTabs=function(n){var e=n.refreshState,t=n.tab,l=o.useContext(j.N).healthTitle,a=(0,g._)(),d=(0,s.gV)().flagInstanceConcurrencyLimits;return(0,r.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,r.jsxs)(c.mQ,{selectedTabId:t,children:[(0,r.jsx)(f.f,{id:"locations",title:"Code locations",to:"/locations",icon:(0,r.jsx)(m,{placeholder:!1})}),(0,r.jsx)(f.f,{id:"health",title:l,to:"/health",icon:(0,r.jsx)(p,{})}),a&&d?(0,r.jsx)(f.f,{id:"concurrency",title:"Concurrency limits",to:"/concurrency"}):null,a?(0,r.jsx)(f.f,{id:"config",title:"Configuration",to:"/config"}):null]}),e?(0,r.jsx)(i.x,{padding:{bottom:8},children:(0,r.jsx)(u.xi,{refreshState:e})}):null]})}},78945:function(n,e,t){t.d(e,{_:function(){return useCanSeeConfig}});var r=t(73235),i=t(40794),c=t(60138);function _templateObject(){var n=(0,r._)(["\n  query InstanceConfigHasInfo {\n    instance {\n      id\n      hasInfo\n    }\n  }\n"]);return _templateObject=function(){return n},n}var useCanSeeConfig=function(){var n=(0,i.a)(o).data;return!!(null==n?void 0:n.instance.hasInfo)},o=(0,c.Ps)(_templateObject())}}]);
//# sourceMappingURL=704.d96b6b89763ad232.js.map