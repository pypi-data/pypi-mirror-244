"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44,118],{28888:function(e,n,t){t.d(n,{T:function(){return i}});var r=t(73235);function _templateObject(){var e=(0,r._)(["\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 64px;\n  width: 100%;\n"]);return _templateObject=function(){return e},e}var i=t(35505).ZP.div.withConfig({componentId:"sc-2cf5acf-0"})(_templateObject())},17131:function(e,n,t){t.d(n,{m:function(){return PageHeader}});var r=t(73235),i=t(52322);t(2784);var l=t(35505),s=t(18399),o=t(86412);function _templateObject(){var e=(0,r._)(["\n  width: 100%;\n\n  /**\n   * Blueprint breadcrumbs annoyingly have a built-in height.\n   */\n  .bp4-breadcrumbs {\n    height: auto;\n  }\n"]);return _templateObject=function(){return e},e}var PageHeader=function(e){var n=e.title,t=e.tags,r=e.right,l=e.tabs;return(0,i.jsxs)(c,{background:o.w.Gray50,padding:{top:16,left:24,right:12},border:"bottom",children:[(0,i.jsxs)(s.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,i.jsxs)(s.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[n,t]}),r]}),l]})},c=(0,l.ZP)(s.x).withConfig({componentId:"sc-a1bb63a9-0"})(_templateObject())},72254:function(e,n,t){t.d(n,{Cd:function(){return globalAssetGraphPathToString},Lu:function(){return globalAssetGraphPathFromString},TJ:function(){return globalAssetGraphPathForAssetsAndDescendants}});var r=t(85333),i=t(6692),l=t(35157),s=t(88286),o="__GLOBAL__";function globalAssetGraphPathToString(e){var n=(0,s.gY)((0,i._)((0,r._)({},e),{pipelineName:o})).replace(o,"");return"/asset-groups".concat(n)}function globalAssetGraphPathFromString(e){return(0,s.p3)(o+e||"/")}function globalAssetGraphPathForAssetsAndDescendants(e){var n=e.map(function(e){return"".concat((0,l.Je)(e),"*")}).join(", ");return globalAssetGraphPathToString({opNames:n.length>16e3?[]:[e.map(l.Je).join(",")],opsQuery:n})}},51892:function(e,n,t){t.d(n,{h:function(){return y},m:function(){return w}});var r=t(58467),i=t(52322),l=t(16861),s=t(10952),o=t(9001),c=t(57830),a=t(18399),u=t(34e3),d=t(86412),h=t(12084),p=t(2784),g=t(47933),f=t(35157),x=t(74711),m=t(72254),j=t(49422),v=t(75375),renderItemAssetKey=function(e){return(0,i.jsx)(g.rU,{to:(0,x.p)(e),style:{display:"block",width:"100%"},children:(0,i.jsx)(l.g,{text:(0,f.ll)(e)})})},renderItemAssetCheck=function(e){return(0,i.jsx)(g.rU,{to:(0,x.A)(e),style:{display:"block",width:"100%"},children:(0,i.jsx)(l.g,{text:labelForAssetCheck(e)})})},labelForAssetCheck=function(e){return"".concat(e.name," on ").concat((0,f.ll)(e.assetKey))};function useShowMoreDialog(e,n,t){var l=(0,r._)(p.useState(!1),2),c=l[0],a=l[1];return{dialog:n&&n.length>1?(0,i.jsxs)(s.Vq,{title:e,onClose:function(){return a(!1)},style:{minWidth:"400px",width:"50vw",maxWidth:"800px",maxHeight:"70vh"},isOpen:c,children:[(0,i.jsx)("div",{style:{height:"500px",overflow:"hidden"},children:(0,i.jsx)(v.Y,{items:n,renderItem:t})}),(0,i.jsx)(s.cN,{topBorder:!0,children:(0,i.jsx)(o.zx,{intent:"primary",autoFocus:!0,onClick:function(){return a(!1)},children:"Done"})})]}):void 0,showMore:c,setShowMore:a}}var y=p.memo(function(e){var n=e.assetKeys,t=e.useTags,r=e.dialogTitle,l=useShowMoreDialog(void 0===r?"Assets in run":r,n,renderItemAssetKey),s=l.setShowMore,o=l.dialog;if(!n||!n.length)return null;if(1===n.length){var p=n[0];return(0,i.jsx)("span",{style:t?{}:{marginBottom:-4},children:(0,i.jsx)(j.c,{data:{key:"",value:""},actions:[{label:"View asset",to:(0,x.p)(p)},{label:"View downstream lineage",to:(0,x.p)(p,{view:"lineage",lineageScope:"downstream"})}],children:t?(0,i.jsx)(c.V,{intent:"none",interactive:!0,icon:"asset",children:(0,f.ll)(p)}):(0,i.jsx)(g.rU,{to:(0,x.p)(p),children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,i.jsx)(u.JO,{color:d.w.Gray400,name:"asset",size:16}),(0,f.ll)(p)]})})})})}return(0,i.jsxs)("span",{style:t?{}:{marginBottom:-4},children:[(0,i.jsx)(j.c,{data:{key:"",value:""},actions:[{label:"View list",onClick:function(){return s(!0)}},{label:"View downstream lineage",to:(0,m.TJ)(n)}],children:t?(0,i.jsxs)(c.V,{intent:"none",icon:"asset",children:[n.length," assets"]}):(0,i.jsx)(h.Z,{onClick:function(){return s(!0)},children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center",display:"inline-flex"},children:[(0,i.jsx)(u.JO,{color:d.w.Gray400,name:"asset",size:16}),(0,i.jsx)(a.x,{style:{flex:1},flex:{wrap:"wrap",display:"inline-flex"},children:"".concat(n.length," assets")})]})})}),o]})}),w=p.memo(function(e){var n=e.assetChecks,t=e.useTags,r=e.dialogTitle,l=useShowMoreDialog(void 0===r?"Asset checks in run":r,n,renderItemAssetCheck),s=l.setShowMore,o=l.dialog;if(!n||!n.length)return null;if(1===n.length){var p=n[0];return(0,i.jsx)("span",{style:t?{}:{marginBottom:-4},children:(0,i.jsx)(j.c,{data:{key:"",value:""},actions:[{label:"View asset check",to:(0,x.A)(p)}],children:t?(0,i.jsx)(c.V,{intent:"none",interactive:!0,icon:"asset_check",children:labelForAssetCheck(p)}):(0,i.jsx)(g.rU,{to:(0,x.A)(p),children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,i.jsx)(u.JO,{color:d.w.Gray400,name:"asset_check",size:16}),labelForAssetCheck(p)]})})})})}return(0,i.jsxs)("span",{style:t?{}:{marginBottom:-4},children:[(0,i.jsx)(j.c,{data:{key:"",value:""},actions:[{label:"View list",onClick:function(){return s(!0)}}],children:t?(0,i.jsxs)(c.V,{intent:"none",icon:"asset_check",children:[n.length," asset checks"]}):(0,i.jsx)(h.Z,{onClick:function(){return s(!0)},children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center",display:"inline-flex"},children:[(0,i.jsx)(u.JO,{color:d.w.Gray400,name:"asset_check",size:16}),(0,i.jsx)(a.x,{style:{flex:1},flex:{wrap:"wrap",display:"inline-flex"},children:"".concat(n.length," asset checks")})]})})}),o]})})},16530:function(e,n,t){t.d(n,{N:function(){return DeletionDialog}});var r=t(81862),i=t(87612),l=t(85333),s=t(6692),o=t(58467),c=t(22970),a=t(52322),u=t(33379),d=t(38058),h=t(59692),p=t(9001),g=t(34e3),f=t(86412),x=t(81308),m=t(10952),j=t(2784),v=t(66213),y=t(38917),refineToError=function(e){if((null==e?void 0:e.deletePipelineRun.__typename)==="DeletePipelineRunSuccess")throw Error("Not an error!");return null==e?void 0:e.deletePipelineRun},initializeState=function(e){return{step:"initial",frozenRuns:e,deletion:{completed:0,errors:{}}}},deletionDialogReducer=function(e,n){switch(n.type){case"reset":return initializeState(n.frozenRuns);case"start":return(0,s._)((0,l._)({},e),{step:"deleting"});case"deletion-success":var t=e.deletion;return(0,s._)((0,l._)({},e),{step:"deleting",deletion:(0,s._)((0,l._)({},t),{completed:t.completed+1})});case"deletion-error":var r=e.deletion;return(0,s._)((0,l._)({},e),{step:"deleting",deletion:(0,s._)((0,l._)({},r),{completed:r.completed+1,errors:(0,s._)((0,l._)({},r.errors),(0,i._)({},n.id,n.error))})});case"complete":return(0,s._)((0,l._)({},e),{step:"completed"})}},DeletionDialog=function(e){var n,t=e.isOpen,i=e.onClose,l=e.onComplete,s=e.onTerminateInstead,w=e.selectedRuns,b=j.useRef(w),k=(0,o._)(j.useReducer(deletionDialogReducer,b.current,initializeState),2),_=k[0],C=k[1],S=Object.keys(_.frozenRuns),A=S.length,O=S.filter(function(e){return _.frozenRuns[e]}).length;j.useEffect(function(){t&&C({type:"reset",frozenRuns:b.current})},[t]),j.useEffect(function(){t||(b.current=w)},[t,w]);var P=(0,o._)((0,u.D)(y.be),1)[0],D=(n=(0,r._)(function(){var e,n,t,r,i,s,o,a,u;return(0,c.Jh)(this,function(c){switch(c.label){case 0:C({type:"start"}),e=Object.keys(_.frozenRuns),n=!0,t=!1,r=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),i=e[Symbol.iterator](),c.label=2;case 2:if(n=(s=i.next()).done)return[3,5];return[4,P({variables:{runId:o=s.value}})];case 3:(null==(a=c.sent().data)?void 0:a.deletePipelineRun.__typename)==="DeletePipelineRunSuccess"?C({type:"deletion-success"}):C({type:"deletion-error",id:o,error:refineToError(a)}),c.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return u=c.sent(),t=!0,r=u,[3,8];case 7:try{n||null==i.return||i.return()}finally{if(t)throw r}return[7];case 8:return C({type:"complete"}),l(),[2]}})}),function(){return n.apply(this,arguments)}),T="deleting"!==_.step;return(0,a.jsxs)(m.Vq,{isOpen:t,title:"Delete runs",canEscapeKeyClose:T,canOutsideClickClose:T,onClose:i,children:[(0,a.jsx)(m.a7,{children:(0,a.jsxs)(h.Z,{direction:"column",spacing:24,children:[function(){switch(_.step){case"initial":return(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[(0,a.jsx)("div",{children:"".concat(A," ").concat(1===A?"run":"runs"," will be deleted.")}),(0,a.jsx)("div",{children:"Deleting runs will not prevent them from continuing to execute, and may result in unexpected behavior."}),O?(0,a.jsx)("div",{children:O>1?(0,a.jsxs)(a.Fragment,{children:["".concat(O," of these runs can be terminated. "),(0,a.jsx)("strong",{children:"Please consider terminating these runs instead of deleting them."})]}):(0,a.jsxs)(a.Fragment,{children:["1 run can be terminated instead. ",(0,a.jsx)("strong",{children:"Please consider terminating this run instead of deleting it."})]})}):null,(0,a.jsx)("div",{children:"Do you wish to continue with deletion?"})]});case"deleting":case"completed":var e=A>0?_.deletion.completed/A:1;return(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[(0,a.jsx)("div",{children:"Deletingâ€¦"}),(0,a.jsx)(d.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"deleting"===_.step?(0,a.jsx)(v.c,{message:"Deletion in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===_.step)return null;if("deleting"===_.step)return(0,a.jsx)("div",{children:"Please do not close the window or navigate away during deletion."});var e=_.deletion.errors,n=Object.keys(e).length,t=_.deletion.completed-n;return(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[t?(0,a.jsxs)(h.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,a.jsx)(g.JO,{name:"check_circle",color:f.w.Green500}),(0,a.jsx)("div",{children:"Successfully deleted ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[(0,a.jsxs)(h.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,a.jsx)(g.JO,{name:"warning",color:f.w.Yellow500}),(0,a.jsx)("div",{children:"Could not delete ".concat(n," ").concat(1===n?"run":"runs",".")})]}),(0,a.jsx)("ul",{children:Object.keys(e).map(function(n){var t;return(0,a.jsx)("li",{children:(0,a.jsxs)(h.Z,{direction:"row",spacing:8,children:[(0,a.jsx)(x.fv,{children:n.slice(0,8)}),e[n]?(0,a.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)})})]}):null]})}()]})}),(0,a.jsx)(m.cN,{children:function(){switch(_.step){case"initial":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.zx,{intent:"none",onClick:i,children:"Cancel"}),(0,a.jsx)(p.zx,{intent:"danger",onClick:D,children:"Yes, delete ".concat("".concat(A," ").concat(1===A?"run":"runs"))}),O?(0,a.jsx)(p.zx,{intent:"primary",onClick:s,children:"Terminate ".concat("".concat(O," ").concat(1===O?"run":"runs")," instead")}):null]});case"deleting":return(0,a.jsx)(p.zx,{intent:"danger",disabled:!0,children:"Deletingâ€¦"});case"completed":return(0,a.jsx)(p.zx,{intent:"primary",onClick:i,children:"Done"})}}()})]})}},85893:function(e,n,t){t.d(n,{Q:function(){return m}});var r=t(81862),i=t(87612),l=t(82550),s=t(22970),o=t(52322),c=t(18399),a=t(2784),u=t(19211),d=t(47544),h=t(35157),p=t(84495),g=["mode",p.H.Backfill,p.H.Partition],f=new Set(g),x=(0,i._)({},p.H.SolidSelection,p.H.OpSelection),m=a.memo(function(e){var n=e.tags,t=e.onAddTag,i=e.onToggleTagPin,m=e.mode,j=(0,d.m)(),v=a.useMemo(function(){var e;return{label:"Copy tag",onClick:(e=(0,r._)(function(e){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return j("".concat(e.key,":").concat(e.value)),[4,(0,u.B7)({intent:"success",message:"Copied tag!"})];case 1:return n.sent(),[2]}})}),function(n){return e.apply(this,arguments)})}},[j]),y=a.useMemo(function(){return t?{label:"Add tag to filter",onClick:function(e){t({token:"tag",value:"".concat(e.originalKey||e.key,"=").concat(e.value)})}}:null},[t]),actionsForTag=function(e){var n,t=[v];return y&&(n=e.key)!==p.H.SolidSelection&&n!==p.H.OpSelection&&"mode"!==n&&t.push(y),i&&t.push({label:e.pinned?"Hide tag":"Show tag in table",onClick:function(){i(e.originalKey||e.key)}}),t.filter(function(e){return!!e})},w=a.useMemo(function(){var e=[],t=[],r=n.map(function(e){return{key:e.key,value:e.value,pinned:e.pinned,link:e.link}}),i=!0,s=!1,o=void 0;try{for(var c,a=r[Symbol.iterator]();!(i=(c=a.next()).done);i=!0){var u=c.value,d=u.key;x.hasOwnProperty(d)&&(u.key=x[d],u.originalKey=d),u.value.startsWith(h.u1)&&(d===p.H.PartitionSet||d===p.H.StepSelection)||(f.has(d)?e.push(u):t.push(u))}}catch(e){s=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw o}}return(0,l._)(e.sort(function(e,n){return g.indexOf(e.key)-g.indexOf(n.key)})).concat((0,l._)(t))},[n]);if(!n.length)return null;var b=m?(0,o.jsx)(p.i,{tag:{key:"mode",value:m},actions:actionsForTag({key:"mode",value:m})}):null;return(0,o.jsxs)(c.x,{flex:{direction:"row",wrap:"wrap",gap:4},children:[b,w.map(function(e){return(0,o.jsx)(p.i,{tag:e,actions:actionsForTag(e)},e.key)})]})})},16148:function(e,n,t){t.d(n,{A:function(){return d}});var r=t(85333),i=t(6692),l=t(2281),s=t(52322),o=t(2803),c=t(9001),a=t(2784),u=t(47933),d=a.forwardRef(function(e,n){var t=e.children,a=e.icon,d=e.intent,h=e.outlined,p=e.rightIcon,g=(0,l._)(e,["children","icon","intent","outlined","rightIcon"]);return(0,s.jsxs)(o.S,(0,i._)((0,r._)({},g),{as:u.rU,$fillColor:(0,c.qZ)(d,h),$strokeColor:(0,c.hb)(d,h),$textColor:(0,c.l6)(d,h),ref:n,children:[a||null,t?(0,s.jsx)(o.p,{children:t}):null,p||null]}))});d.displayName="AnchorButton"}}]);
//# sourceMappingURL=44.8e0d0c7fc6a1b206.js.map