import{bH as T,dN as H,dO as X,dP as Y,dQ as J,m as M,bZ as A,dR as Z,dS as q,dT as x,z as t,dU as ee,ah as g,dV as K,dW as te,dX as le,dY as se,dZ as ae,bI as E,bR as oe,d_ as ne,F as _,d$ as re,e0 as ue,bz as de,cx as ie,e1 as ce,dE as me,cz as pe,ch as fe,c0 as be,c8 as Ve,e2 as ge,cm as ye,e3 as ve,e4 as _e,aM as Pe,o as F,bs as l,bC as N,az as d,bD as o,r as n,a_ as i,e5 as Se,cd as we,bE as r,cc as L,c4 as I,b_ as U,y as j,c5 as G,q as b,aK as S,aj as he,ct as Ce,dr as ke}from"./index-p5QwxXYb.js";import{defaultView as $e,allViews as ze}from"./Workspace-9KjWOAQY.js";import{V as Fe}from"./VAlert-euxRuCvE.js";import"./graphql-1_B3k2Rp.js";const R=T()({name:"VCheckbox",inheritAttrs:!1,props:{...H(),...X()},emits:{"update:focused":e=>!0},setup(e,a){let{attrs:V,slots:m}=a;const{isFocused:u,focus:c,blur:p}=Y(e),s=J(),f=M(()=>e.id||`checkbox-${s}`);return A(()=>{const[w,B]=Z(V),[h,W]=q(e),[y,P]=x(e);return t(K,g({class:"v-checkbox"},w,h,{id:f.value,focused:u.value}),{...m,default:v=>{let{id:C,messagesId:k,isDisabled:$,isReadonly:z}=v;return t(ee,g(y,{id:C.value,"aria-describedby":k.value,disabled:$.value,readonly:z.value},B,{onFocus:c,onBlur:p}),m)}})}),{}}}),Q=2;function D(e=null){localStorage.fontSize=e,document.documentElement.style.fontSize=e}function Ie(){D(`${O()-Q}px`)}function Ue(){D(`${O()+Q}px`)}function O(){const e=window.getComputedStyle(document.documentElement).fontSize;return parseFloat(e)}const je=T()({name:"VRadio",props:{...te({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(e,a){let{slots:V}=a;return A(()=>t(le,g(e,{class:"v-radio",type:"radio"}),V)),{}}}),Re=T()({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...H(),...se(ae(),["multiple"]),trueIcon:{type:E,default:"$radioOn"},falseIcon:{type:E,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:V,slots:m}=a;const u=J(),c=M(()=>e.id||`radio-group-${u}`),p=oe(e,"modelValue");return A(()=>{const[s,f]=Z(V),[w,B]=q(e),[h,W]=ne({...e,multiple:!1}),y=m.label?m.label({label:e.label,props:{for:c.value}}):e.label;return t(K,g({class:"v-radio-group"},s,w,{modelValue:p.value,"onUpdate:modelValue":P=>p.value=P,id:c.value}),{...m,default:P=>{let{id:v,messagesId:C,isDisabled:k,isReadonly:$}=P;return t(_,null,[y&&t(re,{id:v.value},{default:()=>[y]}),t(ue,g(h,{id:v.value,"aria-describedby":C.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:k.value,readonly:$.value,"aria-labelledby":y?v.value:void 0},f,{modelValue:p.value,"onUpdate:modelValue":z=>p.value=z}),m)])}})}),{}}}),Te={name:"UserProfile",components:{Job:ie},mixins:[ce],data(){return{defaultView:$e(),cyclePointsOrderDesc:me(),jobTheme:pe()}},computed:{...fe("user",["user"]),reducedAnimation:{get(){return be().value},set(e){this.setReducedAnimation(e)}}},head(){return{title:Ve("App.userProfile")}},methods:{resetFontSize:D,decreaseFontSize:Ie,increaseFontSize:Ue,getCurrentFontSize:O},allViews:Object.fromEntries(ze.map(({name:e,icon:a})=>[e,a])),vuetifyDefaults:{global:{hideDetails:!0}},jobStates:ge.enumValues.map(e=>e.name),jobThemes:["default","greyscale","colour_blind"],icons:{settings:ye,increase:ve,decrease:_e}},Ae={class:"text-h5"},De={class:"text-body-1"},Oe=n("p",{class:"text-h6"},"Preferences",-1),Be=n("span",null,"Font size",-1),Ee=n("span",null,"Colour Theme",-1),Ne={class:"c-job-state-table"},Le=n("th",null,"State",-1),Ge=n("td",null,null,-1),He=n("span",null,"Latest cycle point at top",-1),Je=n("span",null,"Reduced animations",-1),Me=n("span",null,"Default view",-1);function Ze(e,a,V,m,u,c){const p=Pe("job");return d(),F(N,{fluid:"",class:"c-user-profile"},{default:l(()=>[t(r,{class:"wrap"},{default:l(()=>[t(o,{cols:"12"},{default:l(()=>[t(Fe,{icon:e.$options.icons.settings,prominent:"",color:"grey-lighten-3"},{default:l(()=>[n("h3",Ae,i(e.$t("UserProfile.tableHeader")),1),n("p",De,i(e.$t("UserProfile.tableSubHeader")),1)]),_:1},8,["icon"]),e.user!==null?(d(),F(Se,{key:0},{default:l(()=>[t(we,{defaults:e.$options.vuetifyDefaults},{default:l(()=>[t(N,{"py-0":""},{default:l(()=>[t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.username")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(L,{"model-value":e.user.username,disabled:"",id:"profile-username","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.administrator")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(R,{modelValue:e.user.admin,"onUpdate:modelValue":a[0]||(a[0]=s=>e.user.admin=s),disabled:"",id:"profile-admin","aria-disabled":"true",class:"text-body-1"},null,8,["modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.groups")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(I,{items:e.user.groups,modelValue:e.user.groups,"onUpdate:modelValue":a[1]||(a[1]=s=>e.user.groups=s),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-groups","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.created")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(L,{"model-value":e.user.created,disabled:"",id:"profile-created","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.permissions")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(I,{items:e.user.permissions,modelValue:e.user.permissions,"onUpdate:modelValue":a[2]||(a[2]=s=>e.user.permissions=s),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-permissions","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"mt-4"},{default:l(()=>[t(o,{cols:"12"},{default:l(()=>[Oe]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Be]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(U,{variant:"outlined",id:"font-size-reset-button",class:"mr-2",onClick:a[3]||(a[3]=s=>c.resetFontSize())},{default:l(()=>[j(" Reset ")]),_:1}),t(U,{variant:"outlined",id:"font-size-decrease-button",class:"mx-2",onClick:a[4]||(a[4]=s=>c.decreaseFontSize())},{default:l(()=>[t(G,null,{default:l(()=>[j(i(e.$options.icons.decrease),1)]),_:1})]),_:1}),t(U,{variant:"outlined",id:"font-size-increase-button",class:"ml-2",onClick:a[5]||(a[5]=s=>c.increaseFontSize())},{default:l(()=>[t(G,null,{default:l(()=>[j(i(e.$options.icons.increase),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Ee]),_:1}),t(Re,{modelValue:u.jobTheme,"onUpdate:modelValue":a[6]||(a[6]=s=>u.jobTheme=s)},{default:l(()=>[n("table",Ne,[n("tr",null,[Le,(d(!0),b(_,null,S(e.$options.jobThemes,s=>(d(),b("th",{key:s},i(s.replace("_"," ")),1))),128))]),n("tr",null,[Ge,(d(!0),b(_,null,S(e.$options.jobThemes,s=>(d(),b("td",{key:s},[t(je,{value:s,id:`input-job-theme-${s}`},null,8,["value","id"])]))),128))]),(d(!0),b(_,null,S(e.$options.jobStates,s=>(d(),b("tr",{key:s},[n("td",null,i(s),1),(d(!0),b(_,null,S(e.$options.jobThemes,f=>(d(),b("td",{key:f,class:he([`job_theme--${f}`,"job_theme_override"])},[t(p,{status:s},null,8,["status"])],2))),128))]))),128))])]),_:1},8,["modelValue"]),t(o,{cols:"9"})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[He]),_:1}),t(R,{modelValue:u.cyclePointsOrderDesc,"onUpdate:modelValue":a[7]||(a[7]=s=>u.cyclePointsOrderDesc=s),id:"input-cyclepoints-order"},null,8,["modelValue"])]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Je]),_:1}),t(R,{modelValue:c.reducedAnimation,"onUpdate:modelValue":a[8]||(a[8]=s=>c.reducedAnimation=s),"data-cy":"reduced-animation"},null,8,["modelValue"])]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Me]),_:1}),t(I,{modelValue:u.defaultView,"onUpdate:modelValue":a[9]||(a[9]=s=>u.defaultView=s),items:Object.keys(e.$options.allViews),"prepend-inner-icon":e.$options.allViews[u.defaultView],"data-cy":"select-default-view","menu-props":{"data-cy":"select-default-view-menu"}},{item:l(({item:s,props:f})=>[t(Ce,g(f,{"prepend-icon":e.$options.allViews[s.value]}),null,16,["prepend-icon"])]),_:1},8,["modelValue","items","prepend-inner-icon"])]),_:1})]),_:1})]),_:1},8,["defaults"])]),_:1})):(d(),F(ke,{key:1,indeterminate:!0}))]),_:1})]),_:1})]),_:1})}const Xe=de(Te,[["render",Ze]]);export{Xe as default};
